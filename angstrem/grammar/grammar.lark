
main: _SP? ( stmt _SP? )*

stmt: decl
    | expr

?decl: decl_func

decl_func: "fn" _SP ID _SP? "(" _SP? func_args? ")" _SP? func_body

func_args: ID _SP? ( "," _SP? ID _SP? )*

func_body: expr

expr: atom
    | atom _SP? "+" _SP? expr
    | block

block: "{" _SP? block_body? "}"

block_body: expr _SP? ( block_delim _SP? expr _SP? )*

block_delim: ";" | "\n"

?atom: NUMBER
     | ID

ID: /\w+(\w|\d|_)*/

NUMBER: /\d+/

_SP: /\s+/m
